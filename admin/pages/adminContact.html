<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta name="viewport" content="charset=UTF-8, width=device-width, initial-scale=1"/>
	<link rel="stylesheet" type="text/css" href="style.css"/>
	<title>
		Admin Contact - Gabriel's Website
	</title>

	<script type="text/javascript">

		function readMessage(event){
			event.preventDefault();

			const files = document.getElementById("file_picker");
			const file = files.files[0];

			const reader = new FileReader();
			
			//From : https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsText
			  reader.addEventListener("load",() => {
			  	document.getElementById("dmessage").innerHTML = reader.result;
			  },
			  false
			  );

  			if (file) {
    			reader.readAsText(file);
  			}
		}

	</script>

</head>
<body>
	<!-- Top banner -->
	<div class="banner">
		<h1>Admin - Contact</h1>
	</div> 
	<div class="menu">	
		<table> 		
			<tr>
				<td><a href="adminIndex.html">Home</a></td>
				<td><a href="adminResume.html">Resume</a></td>
				<td><a href="adminProjects.html">Projects</a></td>
				<td><a href="adminContact.html">Contact</a></td>
				<td><a href="adminSocial.html">Social</a></td>
				<td><a href="adminLogout.html">Logout</a></td>
			</tr>
		</table>
	</div>

	<div class="content">
		
		<br/>
		<label for="file_picker">Please select message file</label>
		<br/>

		<input type="file" id="file_picker"/>
		<br/>
		<br/>
		<form onsubmit="return readMessage(event)" action="#">
			<input type="submit" value="Read Message"/>
		</form>
		<br/>
		

		
		<label for="dmessage" style="font-size: 14px;">Latest Message</label>
		
		<p id="dmessage" style="border: 1px solid black; width:70%; padding-top: 20px;"></p>

		

		<br/>
		<br/>
	</div>

</body>
</html>
